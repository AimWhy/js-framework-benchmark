window.requestIdleCallback=window.requestIdleCallback||((e,t,i=window.performance.now())=>window.setTimeout(e,0,{didTimeout:!1,timeRemaining:()=>Math.max(0,5-(window.performance.now()-i))}));var Q=document.createRange();Q.selectNodeContents(Q.createContextualFragment("<template>").lastChild);var lt=Q.createContextualFragment.bind(Q),v=new WeakMap,N=new WeakMap,g=new WeakMap,m=new WeakMap,B=new WeakMap,y=new WeakMap,E=new WeakMap,Y=new WeakMap,D=new WeakMap,ke=Symbol("boundFunctions"),W=Symbol("reactive"),_=Symbol("keys"),z=!0,x=!0,le=!1;var H=!1,Re=!1,He=new RegExp("\\{\\{([^]*?)\\}\\}|hydro-reactive-([a-zA-Z0-9_.-]+)");var $e=/\n/g,Fe=/[\.\[\]]/,$=/^on/,de=new Set(["allowfullscreen","alpha","async","autofocus","autoplay","checked","controls","draggable","default","defer","disabled","formnovalidate","hidden","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootcustomelementregistry","shadowrootdelegatesfocus","shadowrootserializable","spellcheck"]),me=null,qe=!1;function p(e){return e!=null&&typeof e=="object"}function b(e){return typeof e=="function"}function A(e){return e.splitText!==void 0}function F(e){return e instanceof window.Node}function R(e){return e.nodeType===11}function q(e){return p(e)&&"event"in e&&"options"in e}function O(e){return Reflect.get(e,"isProxy")}function Se(e){return p(e)&&typeof e.then=="function"}function Ve(){return window.navigator.userAgent.includes("Node.js")||window.navigator.userAgent.includes("Deno")||window.navigator.userAgent.includes("Bun")||window.navigator.userAgent.includes("HappyDOM")||window.navigator.userAgent.includes("jsdom")}function Ue(){let e="abcdefghijklmnopqrstuvwxyz0123456789",t="";for(var i=0;i<6;i++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function Ne(e){z=e,xe(C)}function Ae(e){x=e}function xe(e){Reflect.set(e,"asyncUpdate",z);for(let t of Object.values(e))p(t)&&O(t)&&xe(t)}function P(e,t,i){let n=de.has(t);return n&&!i?(e.removeAttribute(t),!1):(e.setAttribute(t,b(i)&&Reflect.has(i,W)?i:n?"":i),!0)}function ee(e,t,i){e.addEventListener(t,b(i)?i:i.event,b(i)?{}:i.options)}function T(e,t,...i){if(b(e))return e({...t,children:i});let n=typeof e=="string"?document.createElement(e,t?.hasOwnProperty("is")?{is:t.is}:void 0):document.createDocumentFragment();for(let o in t)o in n&&!de.has(o)?n[o]=t[o]:P(n,o,t[o]);return R(n)&&(i=e.children),n.append(...i.some(o=>Array.isArray(o))?i.map(je).flat():i),H||V(n),n}function je(e){return p(e)&&!F(e)?Object.values(e):e}function V(e,t){if(A(e)){G(e);return}let i=document.createNodeIterator(e,window.NodeFilter.SHOW_ELEMENT),n;for(;n=i.nextNode();){for(let s of n.getAttributeNames()){let l=n.getAttribute(s);if(t&&s.startsWith("on")){let c=s.replace($,""),f=t[l];if(!f){G(n,s,l);continue}n.removeAttribute(s),q(f)?(n.addEventListener(c,f.event,f.options),N.has(n)?N.get(n).push(f.event):N.set(n,[f.event])):(n.addEventListener(c,f),N.has(n)?N.get(n).push(f):N.set(n,[f]))}else G(n,s,l)}let o=n.firstChild;for(;o;)A(o)&&(o.nodeValue?.includes("{{")||o.nodeValue?.includes("hydro-reactive-"))&&G(o),o=o.nextSibling}}function G(e,t,i){let n,o;for(t?(n=i,n===""&&(n=t,(n.startsWith("{{")||n.startsWith("hydro-reactive-"))&&e.removeAttribute(n))):n=e.nodeValue;o=n.match(He);){let[s,l,c]=o,f=(l??c).trim().replace($e,"").split(Fe).filter(Boolean),[r,a]=K(f),u=f[f.length-1],d=o.index,w=d+String(r).length;if(F(r)){e.nodeValue=n.replace(s,""),e.after(r),ce(d,w,r,u,a,t);return}if(A(e)){let h=p(r)?window.JSON.stringify(r):r??"";n=n.replace(s,h),n!=null&&(e.nodeValue=n)}else if(t==="bind"){n=n.replace(s,""),e.removeAttribute(t);let h=p(r)&&O(r)?r:a;m.has(h)?m.get(h).push(e):m.set(h,[e]);continue}else if(t==="two-way")e instanceof window.HTMLSelectElement?(e.value=r,X("change",e,a,u)):e instanceof window.HTMLInputElement&&e.type==="radio"?(e.checked=e.value===r,X("change",e,a,u)):e instanceof window.HTMLInputElement&&e.type==="checkbox"?(e.checked=r,X("change",e,a,u,!0)):(e instanceof window.HTMLTextAreaElement||e instanceof window.HTMLInputElement)&&(e.value=r,X("input",e,a,u)),n=n.replace(s,""),e.toggleAttribute("two-way");else if(b(r)||q(r))n=n.replace(s,""),e.removeAttribute(t),ee(e,t.replace($,""),r);else if(p(r)){for(let[h,L]of Object.entries(r))n=n.replace(s,""),b(L)||q(L)?ee(e,h.replace($,""),L):(u=h,P(e,h,L)?w=d+String(L).length:w=d),ce(d,w,e,u,r,h);continue}else n=n.replace(s,r),P(e,t,n===String(r)?r:n)||(n=n.replace(r,""));ce(d,w,e,u,a,t)}}function X(e,t,i,n,o=!1){t.addEventListener(e,s),ie(()=>t.removeEventListener(e,s),t);function s({target:l}){Reflect.set(i,n,o?l.checked:l.value)}}function ce(e,t,i,n,o,s){let l=[e,t,s,o],c=[l];if(v.has(i)?v.get(i).push(l):v.set(i,[l]),g.has(o)){let f=g.get(o),r=f.get(n);r?r.has(i)?r.get(i).push(l):(r.set(c,i),r.set(i,c)):f.set(n,new Map([[c,i],[i,c]]))}else g.set(o,new Map([[n,new Map([[c,i],[i,c]])]]))}function K(e){let t,i;t=i=C;for(let n of e)i=t,t=Reflect.get(i,n);return[t,i]}function fe(e,t,i){let n=[],o=[];if(A(e))return y.has(e)&&n.push(y.get(e)),E.has(e)&&n.push(E.get(e)),y.has(t)&&o.push(y.get(t)),E.has(t)&&o.push(E.get(t)),n.length===o.length&&String(n)===String(o);if(N.has(e)&&n.push(...N.get(e)),N.has(t)&&o.push(...N.get(t)),y.has(e)&&n.push(y.get(e)),E.has(e)&&n.push(E.get(e)),y.has(t)&&o.push(y.get(t)),E.has(t)&&o.push(E.get(t)),n.length!==o.length||String(n)!==String(o))return!1;for(let s=0;s<e.childNodes.length;s++){let l=e.childNodes[s],c=t.childNodes[s];if(i){if(A(l)&&!fe(l,c,i))return!1}else if(!fe(l,c))return!1}return!0}function ge(e,t,i){return R(e)||R(t)?!1:e.isEqualNode(t)&&fe(e,t,i)}function ae(e,t="",i=z){if(i)return te(ae,e,t,!1),be(e);Reflect.has(e,W)&&(e=k(e));let n=[];if(R(e)&&(n=Array.from(e.childNodes),Y.set(e,n)),!t)document.body.append(e);else{if(typeof t=="string"){let o=oe(t);if(o)t=o;else return ze}x?A(e)?U(e,t):ge(e,t)||Je(e,t):U(e,t)}M(e,y);for(let o of n)M(o,y);return be(R(e)?n:e)}function ze(){}function re(e,t){if(t.has(e)){let i=t.get(e);z?te(i):i(),t.delete(e)}}function M(e,t){if(t===y&&!Be||t===E&&!Oe)return;re(e,t);let i=document.createNodeIterator(e,window.NodeFilter.SHOW_ELEMENT),n;for(;n=i.nextNode();){re(n,t);let o=n.firstChild;for(;o;)A(o)&&re(o,t),o=o.nextSibling}}function Ke(e,t){for(let[i,n]of e.entries()){for(let o=n.length-1;o>=0;o--){let s=n[o];(t.contains(s)||t.isSameNode(s))&&n.splice(o,1)}n.length===0&&e.delete(i)}}function Je(e,t){let i=[...e.querySelectorAll("*")];R(e)||i.unshift(e);let n=[];A(t)||(n=[...t.querySelectorAll("*")],R(t)||n.unshift(t));let o;le&&(o=document.createElement("div"),t===document.documentElement?t.append(o):R(t)?Y.get(t)[0].before(o):t.before(o),o.append(e));let s=new Map;for(let l of n){if(le&&l===o)return;s.has(l.localName)?s.get(l.localName).push(l):s.set(l.localName,[l])}for(let l of i){let c=s.get(l.localName);if(c){for(let f of c)if(ge(l,f,!0)){l.replaceWith(f),M(l,E),Ke(s,f);break}}}if(le){let l=R(e)?Array.from(o.childNodes):[e];if(R(t)){let c=Y.get(t);for(let f of l)c[0].before(f);for(let f of c)f.remove()}else t instanceof window.HTMLHtmlElement?U(e,t):t.replaceWith(...l);o.remove(),M(t,E)}else U(e,t);s.clear()}function U(e,t){if(R(t)){let i=Y.get(t);if(R(e)){let n=Array.from(e.childNodes);for(let o=0;o<i.length;o++){let s=i[o];o<n.length?ae(n[o],s):s.remove()}}else for(let n=0;n<i.length;n++){let o=i[n];n===0?ae(e,o):o.remove()}}else if(Ve())if(e instanceof window.HTMLHtmlElement&&t instanceof window.HTMLHtmlElement){for(let i of e.getAttributeNames())P(t,i,e.getAttribute(i));t.replaceChildren(...e.childNodes)}else t.replaceWith(e);else t.replaceWith(e);M(t,E)}function be(e){return Array.isArray(e)?()=>e.forEach(j):()=>j(e)}function j(e){!Re&&e.isConnected&&(e.remove(),M(e,E))}async function te(e,...t){"scheduler"in window?window.scheduler.postTask(()=>e(...t),{priority:"user-blocking"}):window.requestIdleCallback(()=>e(...t))}function ne(e){let t;do t=Ue();while(Reflect.has(C,t));Reflect.set(C,t,e),Reflect.set(n,W,!0);let i=Me(n,[t]);return p(e)&&D.set(Reflect.get(C,t),i),i;function n(o){let s=(this&&Reflect.has(this,W)?this:i)[_.description],[l,c]=K(s),f=s[s.length-1];if(b(o)){let r=o(l);if(l===r)return;Reflect.set(c,f,r??l)}else Reflect.set(c,f,o)}}function Me(e,t){return new Proxy(e,{get(i,n,o){return n===W.description?!0:n===_.description?t:n===Symbol.toPrimitive?()=>`hydro-reactive-${t.join(".")}`:Me(i,[...t,n])}})}function Ce(e){let t=e[_.description];return[t[t.length-1],t.length===1]}function se(e){let[t,i]=Ce(e);if(i)Reflect.set(C,t,null),D.has(C[t])&&D.delete(C[t]);else{let[n,o]=K(e[_.description]);Reflect.set(o,t,null)}}function Te(e,t){let[i,n]=Ce(e);if(n)C.observe(i,t);else{let[o,s]=K(e[_.description]);s.observe(i,t)}}function Le(e,t,i,n=e){let o=l=>(!Reflect.has(e,W)&&b(e)?e(l):!Se(l)&&l)?b(t)?t():t:b(i)?i():i,s=ne(o(k(n)));return Te(n,l=>{l===null?se(s):s(o(l))}),s}var we=!1,ye=new Set,I=new WeakMap;function k(e){let[t]=K(Reflect.get(e,_.description));return t}var Be=!1;var Oe=!1;function ie(e,t,...i){Oe=!0,E.set(t,i.length?e.bind(e,...i):e)}function ue(e){let t=Symbol("handlers"),i=new WeakMap,n=new Proxy(e??{},{set(o,s,l,c){we&&(ye.add(c),I.has(c)?I.get(c).add(s):I.set(c,new Set([s])));let f=!0,r=Reflect.get(o,s,c);if(r===l)return f;if(l===null){if(g.has(c)){let d=g.get(c);d.delete(String(s)),d.size===0&&g.delete(c)}let u=Reflect.get(o,t,c);if(u.has(s)){let d=u.get(s);for(let w of d)w(null,r);d.clear(),c.unobserve(s)}return p(r)&&O(r)?(g.delete(r),m.has(r)&&(m.get(r).forEach(j),m.delete(r))):m.has(c)&&(m.get(c).forEach(j),m.delete(c)),!qe&&Array.isArray(c)?(c.splice(Number(s),1),f):Reflect.deleteProperty(c,s)}if(Se(l))return l.then(u=>{c[s]=u}).catch(u=>{console.error(u),c[s]=null}),f=Reflect.set(o,s,l,c),f;if(F(l))f=Reflect.set(o,s,l,c);else if(p(l)&&!O(l)){f=Reflect.set(o,s,ue(l),c);for(let[u,d]of Object.entries(l))p(d)&&!O(d)&&Reflect.set(l,u,ue(d))}else if(!x&&Array.isArray(c)&&c.includes(r)&&c.includes(l)&&m.has(l)){let[u]=m.get(l);if(me!==u){let[d]=m.get(r);me=d;let w=u.previousSibling,h=d.previousSibling,L=c.findIndex(_e=>_e===l);c.splice(Number(s),1,l),c.splice(L,1,r),w.after(d),h.after(u)}return!0}else f=Reflect.set(o,s,l,c);let a=Reflect.get(o,s,c);return g.has(r)?Ee(r,s,a,r):g.has(c)&&Ee(c,s,a,r),p(l)&&O(l)&&g.has(r)&&(x&&B.set(r,g.get(r)),B.has(l)?(g.set(r,B.get(l)),B.delete(l)):g.set(r,g.get(l))),f&&Reflect.get(o,t,c).get(s)?.forEach(u=>u(a,r)),!x&&r&&Ge(r),f},get(o,s,l){we&&(ye.add(l),I.has(l)?I.get(l).add(s):I.set(l,new Set([s])));let c=Reflect.get(o,s,l);return b(c)?(i.has(c)||i.set(c,c.bind(o)),i.get(c)):c}});return Reflect.defineProperty(n,"isProxy",{value:!0}),Reflect.defineProperty(n,"asyncUpdate",{value:z,writable:!0}),Reflect.defineProperty(n,t,{value:new Map}),Reflect.defineProperty(n,"observe",{value(o,s){let l=Reflect.get(n,t);l.has(o)?l.get(o).add(s):l.set(o,new Set([s]))},configurable:!0}),Reflect.defineProperty(n,"getObservers",{value(){return Reflect.get(n,t)},configurable:!0}),Reflect.defineProperty(n,"unobserve",{value(o,s){let l=Reflect.get(n,t);if(o){if(l.has(o))if(s==null)l.delete(o);else{let c=l.get(o);c?.has(s)&&c.delete(s)}}else l.clear()},configurable:!0}),e||Reflect.defineProperty(n,ke,{value:i}),n}function Ge(e){p(e)&&O(e)&&(g.delete(e),m.has(e)&&(m.get(e).forEach(j),m.delete(e)))}function Ee(e,t,i,n){let o=g.get(e),s=o.get(String(t));if(s&&(Reflect.get(e,"asyncUpdate")?te(Z,s,i,n):Z(s,i,n)),p(i)){let l=Object.entries(i);for(let c=0;c<l.length;c++){let[f,r]=l[c],a=p(n)&&Reflect.get(n,f)||n,u=o.get(f);u&&(Reflect.get(e,"asyncUpdate")?te(Z,u,r,a):Z(u,r,a))}}}function Z(e,t,i){e.forEach(n=>{if(F(n)){if(!Re&&!n.isConnected){let o=e.get(n);e.delete(n),e.delete(o)}return}for(let o of n){let s=e.get(n),[l,c,f]=o,r=!1;if(F(t)&&t!==s)U(t,s),e.delete(s),R(t)||(e.set(t,n),e.set(n,t));else if(A(s)){r=!0;let a=s.nodeValue;s.nodeValue=a.substring(0,l)+String(t)+a.substring(c)}else if(f==="two-way")s instanceof window.HTMLInputElement&&s.type==="radio"?s.checked=Array.isArray(t)?t.includes(s.name):String(t)===s.value:s instanceof window.HTMLInputElement&&s.type==="checkbox"?s.checked=t:(s instanceof window.HTMLTextAreaElement||s instanceof window.HTMLSelectElement||s instanceof window.HTMLInputElement)&&(s.value=String(t));else if(b(t)||q(t)){let a=f.replace($,"");s.removeEventListener(a,b(i)?i:i.event),ee(s,a,t)}else if(p(t)){let a=Object.entries(t);for(let u=0;u<a.length;u++){let[d,w]=a[u];if(b(w)||q(w)){let h=d.replace($,"");s.removeEventListener(h,b(i[d])?i[d]:i[d].event),ee(s,h,w)}else P(s,d,w)}}else{r=!0;let a=s.getAttribute(f);a?(a=a.substring(0,l)+String(t)+a.substring(c),P(s,f,a===String(t)?t:a)):P(s,f,t)}if(r&&(o[1]=l+String(t).length,v.has(s))){let a=!1;for(let u of v.get(s)){if(u===o){a=!0;continue}if(a&&(A(s)||f===u[2])){let d=String(i).length-String(t).length;u[0]-=d,u[1]-=d}}}}})}function Pe(e,t,i){H=!0;let n=oe(e),o=k(t).map(i);n.append(...o);for(let s of o)M(s,y);n.hasChildNodes()&&V(n),ie(se,n,t),H=!1,Te(t,(s,l)=>{if(H=!0,!s?.length||!x&&s?.length===l?.length)n.textContent="";else if(x)for(let c=0;c<l?.length&&s?.length;c++)l[c].id=s[c].id,l[c].label=s[c].label,s[c]=l[c];if(l?.length&&s?.length>l?.length&&s[0]===l[0]){let c=l.length,r=s.slice(c).map((a,u)=>i(a,u+c));n.append(...r);for(let a of r)M(a,y)}else if(l?.length===0||!x&&s?.length){!x&&l?.length&&n.hasChildNodes()&&(n.textContent="");let c=s.map(i);n.append(...c);for(let f of c)M(f,y)}n.hasChildNodes()&&V(n),H=!1})}var C=ue(),oe=document.querySelector.bind(document),ct=document.querySelectorAll.bind(document),rt={compare:ge,allNodeChanges:v,hydroToReactive:D,boolAttrList:Array.from(de)};var Ie=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],ve=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],We=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"],Xe=Ie.length,Ze=ve.length,Qe=We.length,Ye=1;function he(e){let t=new Array(e);for(let i=0;i<e;i++)t[i]={id:Ye++,label:Ie[pe(Xe)]+" "+ve[pe(Ze)]+" "+We[pe(Qe)]};return t}function pe(e){return Math.random()*e|0}Ne(!1);Ae(!1);V(oe("#main"),{run:et,runLots:tt,add:De,update:st,clear:nt,swapRows:it});var S=ne([]),J=ne(-1);Pe("tbody",S,(e,t)=>{let i=Le(o=>o===e.id,"danger","",J),n=T("tr",{class:i,bind:S[t]},T("td",{class:"col-md-1"},S[t].id),T("td",{class:"col-md-4"},T("a",{onclick:()=>J(e.id)},S[t].label)),T("td",{class:"col-md-1"},T("a",{onclick:()=>ot(e.id)},T("span",{class:"glyphicon glyphicon-remove","aria-hidden":"true"}))),T("td",{class:"col-md-6"}));return ie(se,n,i),n});function De(){S(e=>[...e,...he(1e3)])}function et(){J(null),S(he(1e3))}function tt(){J(null),S(he(1e4))}function nt(){S([]),J(null)}function st(){let e=k(S),t=0;for(;t<e.length;)S[t].setter(i=>{i.label+=" !!!"}),t+=10}function it(){S(e=>{e.length>998&&([e[1],e[998]]=[e[998],e[1]])})}function ot(e){let t=k(S).findIndex(i=>i?.id===e);S(i=>{i[t]=null})}
